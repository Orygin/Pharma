<div 	ng-repeat="chapitre in chapitres | orderBy:['rank', 'position']" 
		class="listItem">
	<div class="listItemHeader dropdown"
		ng-click="toggleQcmList(chapitre)">
		<button autounfocus
				type="button"
				class="btn btn-default btn-lg dropdown-toggle listButton"
				data-toggle="dropdown"
				ng-show="userInfo.rank >= 3">
				{{chapitre.position}}
			<span class="glyphicon glyphicon-align-justify"></span>
		</button>
		<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
			    <li role="presentation"><a role="menuitem" tabindex="-1" ng-href="/#/editChapitre/{{chapitre._id}}">Editer</a></li>
			    <li role="presentation"><a role="menuitem" tabindex="-1" ng-href="/#/addQcm/{{chapitre._id}}">Ajouter un QCM</a></li>
			    <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="remove(chapitre._id)">Supprimer</a></li>
		</ul>
		<button autounfocus
				type="button"
				class="btn btn-default btn-lg listButton"
				ng-show="userInfo.rank >= 3"
				ng-click="moveDown(chapitre)">
			<span class="glyphicon glyphicon-chevron-down"></span>
		</button>
		<button autounfocus
				type="button"
				class="btn btn-default btn-lg listButton"
				ng-show="userInfo.rank >= 3 && canMoveUp(chapitre)"
				ng-click="moveUp(chapitre)">
			<span class="glyphicon glyphicon-chevron-up"></span>
		</button>
		<span class="chapitreName" 
			ng-click="goto('/viewChapitre/'+ chapitre._id)">
			{{chapitre.name}}
			<span ng-show="chapitre.active"> - Liste des questionnaires</span>
		</span>
	</div>

	<div class="listItemContent"
		ng-show="chapitre.active">
		<div class="listItemContentItem dropdown"
			ng-repeat="qcm in chapitre.qcm">
			<button autounfocus
					type="button"
					class="btn btn-default btn-lg dropdown-toggle listButton"
					data-toggle="dropdown"
					ng-show="userInfo.rank >= 3">
				{{qcm._id}}
				<span class="glyphicon glyphicon-align-justify"></span>
			</button>
			<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
				    <li role="presentation"><a role="menuitem" tabindex="-1" ng-href="/#/editQcm/{{qcm._id}}">Editer</a></li>
				    <li role="presentation"><a role="menuitem" tabindex="-1" href="" ng-click="removeQcm(qcm, chapitre)">Supprimer</a></li>
			</ul>
			<button autounfocus
					type="button"
					class="btn btn-default btn-lg listButton"
					ng-show="userInfo.rank >= 3"
					ng-click="moveDown(qcm, true)">
				<span class="glyphicon glyphicon-chevron-down"></span>
			</button>
			<button autounfocus
					type="button"
					class="btn btn-default btn-lg listButton"
					ng-show="userInfo.rank >= 3 && canMoveUp(qcm)"
					ng-click="moveUp(qcm, true)">
				<span class="glyphicon glyphicon-chevron-up"></span>
			</button>
		  	<span ng-click="goto('/viewQcm/' + qcm._id)"
		  		class="chapitreName">{{qcm.name}}</span>
		</div>
	</div>
</div>